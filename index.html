<meta name=viewport content="width=device-width,initial-scale=1"><meta name=apple-mobile-web-app-capable content=yes><meta name=mobile-web-app-capable content=yes><title>InterPlanetary Transport System</title><style>*{font-family:sans-serif;margin:0}html{overflow:hidden}body{align-items:center;bottom:0;display:flex;justify-content:center;left:0;position:fixed;right:0;top:0}canvas{height:100%;image-rendering:-moz-crisp-edges;image-rendering:-webkit-crisp-edges;image-rendering:pixelated;image-rendering:crisp-edges;object-fit:contain;position:relative;width:100%}.bg{object-fit:cover;position:absolute;z-index:-1}</style><canvas id=g></canvas><script>!function(){function t(t,s){return t[0]=s[0],t[1]=s[1],t}function s(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t}function i(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t}function h(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t}function e(t,s){const i=s[0],h=s[1];let e=i*i+h*h;return e>0&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t}function n(t,s){const i=((t,s)=>{const i=s[0]-t[0],h=s[1]-t[1];return i*i+h*h})(s.position,t.position);return 0!==i?a*(s.t/i):0}function r(t,s){let i=t.clone();return h(i.i.position,i.i.position,s),h(i.i.acceleration,i.i.acceleration,s),h(i.i.h,i.i.h,s),i.o(),i}function o(t){return[(16711680&t)>>16,(65280&t)>>8,255&t]}function c(t,s){return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${s})`}function u(t,s,i){t.fillStyle=c(i,1),t.beginPath(),t.arc(s.position[0],s.position[1],s.u,0,6.283185307179586),t.closePath(),t.fill()}class l{constructor(t){this.l=0,this.p=t,window.addEventListener("pointerdown",this.m.bind(this)),window.addEventListener("pointermove",this.m.bind(this)),window.addEventListener("pointerup",this.m.bind(this)),window.addEventListener("blur",this.g.bind(this))}g(){this.l=0}m(t){this.position=this.v(this.p,[t.clientX,t.clientY]),this.l=!!t.buttons}v(t,s){let i=t.getBoundingClientRect();return[t.width/i.width*(s[0]-i.left),t.height/i.height*(s[1]-i.top)]}_(){return this.l}}const a=1;class d{constructor({width:t,height:s,i,P:h}){this.width=t,this.height=s,this.i=i,this.P=h}clone(){let t=new d({width:this.width,height:this.height,i:this.i.clone(),P:this.P.map((t=>t.clone()))});return t.F=this.F?.clone(),t}o(){let t,s=-1/0;for(let i of this.P){let h=n(this.i,i);s>h||(s=h,t=i)}return t}A(t,r){this.i.A(t,r),this.F=this.o(),(t=>{((t,r)=>{const o=[0,0];h(r.i.acceleration,e(o,i(o,r.F.position,r.i.position)),n(r.i,r.F)),s(r.i.h,r.i.h,h(o,r.i.acceleration,t)),s(r.i.position,r.i.position,h(o,r.i.h,t))})(t,this)})(r)}}class x{constructor(t){this.B=0,this.p=t,this.p.width=1280,this.p.height=720,this.I=this.p.getContext("2d")}set M(t){this.B=t}S(t,s){for(let i of s.P??[])u(t,i,i.color)}$(t,s){u(t,s.i,s.i.color)}k(t,s){s.F&&((t,s,i,h)=>{t.lineWidth=1,t.lineCap="round",t.strokeStyle=c(h,1),t.beginPath(),t.moveTo(s[0],s[1]),t.lineTo(i[0],i[1]),t.closePath(),t.stroke()})(t,s.i.position,s.F.position,o(15913899)),t.fillStyle=c(o(16512495),1),t.fillRect(10,10,45,13),t.fillStyle=c(o(2565956),1),t.fillText("FPS: "+this.B,12,20)}q(t){const s=this.I;s.clearRect(0,0,1280,720),this.S(s,t),this.$(s,t),this.k(s,t)}}class w{constructor(t,s,i=0){this.position=t,this.u=s,this.t=i}T(t){return((t,s)=>{const i=t.position[0]-s.position[0],h=t.position[1]-s.position[1],e=t.u+s.u;return e*e>i*i+h*h})(this,t)}C(t){const s=t[0]-this.position[0],i=t[1]-this.position[1];return this.u*this.u>s*s+i*i}}class f extends w{constructor(t,s,i,h){super(t,s),this.id=h??((t=Math.random)=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(s=>{let i=16*t()|0;return("x"==s?i:3&i|8).toString(16)})))(),this.color=o(9137564),this.t=1e6*i}clone(){return new f(t([0,0],this.position),this.u,this.t,this.id)}}class p extends w{constructor(t){super([10,10],5),this.color=o(13016997),this.h=[0,0],this.acceleration=[0,0],this.D=0,this.W=[0,0],this.j=t}A(t,s){this.G()}G(){const t=this.j._();var s,h;!this.D&&t?this.H=this.j.position:this.D&&!t?this.H=void 0:this.j.position&&this.H&&(s=this.W,h=e(this.W,i(this.W,this.j.position,this.H)),s[0]=-h[0],s[1]=-h[1]),this.D=t}clone(){let s=new p(this.j);return s.position=t([0,0],this.position),s.h=t([0,0],this.h),s.acceleration=t([0,0],this.acceleration),s.D=this.D,s.W=t([0,0],this.W),s.H=this.H?t([0,0],this.H):void 0,s}}(new class{constructor(){this.M=60,this.J=0,this.K=0,this.L=0,this.N=0,this.O=(()=>{for(var t=0,s=2166136261;4>t;t++)s=Math.imul(s^"IPTS".charCodeAt(t),16777619);s+=s<<13,s^=s>>>7,s+=s<<3,s^=s>>>17;let i=(s+=s<<5)>>>0,h=()=>(2**31-1&(i=Math.imul(48271,i)))/2**31;return h(),h})(),this.R=document.getElementById("g"),document.body.appendChild(((t,s,i,h)=>{const e=document.createElement("canvas");e.classList.add("bg"),e.width=t,e.height=720;const n=e.getContext("2d"),r=[];for(;h>0;h--)r.push([i()*t,720*i(),1.2*i()]);n.fillStyle=c(o(2565956),1),n.fillRect(0,0,t,720);for(let t of r??[])n.beginPath(),n.arc(t[0],t[1],t[2],0,360),n.fillStyle=c(o(16512495),.8),n.fill();return e})(1280,0,this.O,2e3)),this.U=new l(this.R),this.V=new x(this.R),this.X=new p(this.U),this.Y=new d({width:1280,height:720,i:this.X,P:[new f([640,360],75,75)]}),window.addEventListener("focus",this.start.bind(this)),window.addEventListener("blur",this.stop.bind(this))}start(){this.Z=requestAnimationFrame(this.tt.bind(this))}stop(){this.Z&&cancelAnimationFrame(this.Z)}st(t){let s=.001*t;return this.J=s-this.L,this.L=s,this.K+=this.J,s}it(t){this.L=t,this.K+=this.J,this.M=.9*this.M+1/this.J*(1-.9),this.V.M=~~this.M,1>this.K||(this.K=0)}tt(t){if(this.Z=requestAnimationFrame(this.tt.bind(this)),t=this.st(t),this.it(t),1>=this.J){for(this.N+=this.J,this.N+=this.J;this.N>=1/60;)this.ht=this.Y.clone(),this.Y.A(t,1/60),this.N-=1/60,t+=this.J;this.V.q((h=this.Y,e=this.N/this.J,(i=this.ht)?((t,i)=>{let h=i.clone();return s(h.i.position,t.i.position,i.i.position),s(h.i.acceleration,t.i.acceleration,i.i.acceleration),s(h.i.h,t.i.h,i.i.h),h.o(),h})(r(h,e),r(i,1-e)):h))}var i,h,e}}).start()}();</script>