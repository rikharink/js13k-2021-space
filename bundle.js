!function(){function t(t){return[(16711680&t)>>16,(65280&t)>>8,255&t]}function s(t,s){return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${s})`}function i(t,i,h){t.fillStyle=s(h,1),t.beginPath(),t.arc(i.t[0],i.t[1],i.i,0,6.283185307179586),t.closePath(),t.fill()}function h(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t}function e(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t}function r(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t}function n(t,s){const i=s[0],h=s[1];let e=i*i+h*h;return e>0&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t}function o(t,s){const i=s[0]-t[0],h=s[1]-t[1];return i*i+h*h}class u{constructor(t){this.h=0,this.o=t,window.addEventListener("pointerdown",this.u.bind(this)),window.addEventListener("pointermove",this.u.bind(this)),window.addEventListener("pointerup",this.u.bind(this)),window.addEventListener("blur",this.l.bind(this))}get position(){return this.p}l(){this.h=0}u(t){this.p=this.g(this.o,[t.clientX,t.clientY]),this.h=!!t.buttons}g(t,s){let i=t.getBoundingClientRect();return[t.width/i.width*(s[0]-i.left),t.height/i.height*(s[1]-i.top)]}isActive(){return this.h}}class c{constructor({width:t,height:s,m:i,S:h,v:e=200,_:r}){for(this.A=[],this.F=i,this.P=h;e>0;e--)this.A.push([r()*t,r()*s,1.2*r()])}M(t,s){this.F.M(t,s)}get m(){return this.F}get S(){return this.P}get $(){return this.A}}class a{constructor(s){this.I=0,this.o=s,this.o.width=1280,this.o.height=720,this.k=this.o.getContext("2d"),this.q=t(2565956)}set O(t){this.T=t}set W(t){this.I=t}j(){this.T&&this.B(this.T)}C(){const i=this.k;for(let h of this.T?.$??[])i.beginPath(),i.arc(h[0],h[1],h[2],0,360),i.fillStyle=s(t(16512495),.8),i.fill()}B(h){const e=this.k;e.fillStyle=s(this.q,1),e.fillRect(0,0,this.o.width,this.o.height),this.C();for(let t of h.S??[])i(e,t,t.color);i(e,h.m,h.m.color),h.m.D&&((t,i,h,e)=>{t.lineWidth=1,t.lineCap="round",t.strokeStyle=s(e,1),t.beginPath(),t.moveTo(i[0],i[1]),t.lineTo(h[0],h[1]),t.closePath(),t.stroke()})(e,h.m.t,h.m.D.t,t(15913899)),e.fillStyle=s(t(16512495),1),e.fillRect(10,10,45,13),e.fillStyle=s(t(2565956),1),e.fillText("FPS: "+this.I,12,20)}}class l{constructor(t,s){this.G=t,this.H=s}get t(){return this.G}get i(){return this.H}J(t){return((t,s)=>{const i=t.t[0]-s.t[0],h=t.t[1]-s.t[1],e=t.i+s.i;return e*e>i*i+h*h})(this,t)}K(t){const s=t[0]-this.G[0],i=t[1]-this.G[1];return this.H*this.H>s*s+i*i}}class x extends l{constructor(s,i,h){super(s,i),this.L=((t=Math.random)=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(s=>{let i=16*t()|0;return("x"==s?i:3&i|8).toString(16)})))(),this.color=t(9137564),this.N=h}get id(){return this.L}get R(){return this.N}}class d extends l{constructor(s){super([10,10],5),this.U=[0,0],this.V=[0,0],this.X=[0,0],this.Y=0,this.Z=s,this.color=t(13016997)}set O(t){this.T=t}get isActive(){return this.Y}tt(){let t,s=1/0;for(let i of this.T.S){let h=o(i.t,this.G);s>h&&(s=h,t=i)}return t}get D(){return this.st}M(t,s){this.it(),this.ht(s)}it(){const t=this.Z.isActive();var s,i;!this.Y&&t?this.et=this.Z.position:this.Y&&!t?this.et=void 0:this.Z.position&&this.et&&(s=this.X,i=n(this.X,e(this.X,this.Z.position,this.et)),s[0]=-i[0],s[1]=-i[1]),this.Y=t}ht(t){this.st=this.tt();let s=[0,0];const i=h(s,this.G,h(s,r(s,this.U,t),r(s,this.V,t*t*.5))),e=this.rt(),n=h(s,this.U,r(s,h(s,this.V,e),.5*t));this.G=i,this.V=e,this.U=n}rt(){const t=[0,0],s=o(this.st.t,this.t),i=0!==s?this.st.R/s:0;return r(t,n(t,e(t,this.st.t,this.t)),i)}}(new class{constructor(){this.W=60,this.nt=0,this.ot=0,this.ut=0,this.ct=0,this.at=(()=>{for(var t=0,s=2166136261;31>t;t++)s=Math.imul(s^"InterPlanetary Transport System".charCodeAt(t),16777619);s+=s<<13,s^=s>>>7,s+=s<<3,s^=s>>>17;let i=(s+=s<<5)>>>0,h=()=>(2**31-1&(i=Math.imul(48271,i)))/2**31;return h(),h})(),this.o=document.getElementById("g"),this.lt=new u(this.o),this.xt=new a(this.o),this.F=new d(this.lt),this.O=new c({_:this.at,width:this.o.offsetWidth,height:this.o.offsetHeight,m:this.F,v:2e3,S:[new x([640,360],75,75e6)]}),window.addEventListener("focus",this.start.bind(this)),window.addEventListener("blur",this.stop.bind(this))}set O(t){this.dt=t,this.F.O=t,this.xt.O=t}get canvas(){return this.o}start(){this.ft=requestAnimationFrame(this.wt.bind(this))}stop(){this.ft&&cancelAnimationFrame(this.ft)}gt(t){return this.nt=(t*=.001)-this.ut,this.ut=t,this.ot+=this.nt,t}St(t){this.ut=t,this.ot+=this.nt,this.W=.9*this.W+1/this.nt*(1-.9),this.xt.W=~~this.W,1>this.ot||(this.ot=0)}wt(t){if(this.ft=requestAnimationFrame(this.wt.bind(this)),t=this.gt(t),this.St(t),1e3>=this.nt){for(this.ct+=this.nt;this.ct>=1/164;)this.dt.M(t,1/164),this.ct-=1/164;this.xt.j()}}}).start()}();
//# sourceMappingURL=bundle.js.map
