!function(){function t(t,s,i=1e-5){let h;return t===s?1:(h=Math.abs(t-s),0===t||0===s||k>h?i*k>h:i>h/(Math.abs(t)+Math.abs(s)))}function s(t,s){if(s)return t[0]=s[0],t[1]=s[1],t}function i(t,s,i){return t[0]=s[0]+i[0],t[1]=s[1]+i[1],t}function h(t,s,i){return t[0]=s[0]-i[0],t[1]=s[1]-i[1],t}function e(t,s,i){return t[0]=s[0]*i,t[1]=s[1]*i,t}function n(t,s){const i=s[0],h=s[1];let e=i*i+h*h;return e>0&&(e=1/Math.sqrt(e)),t[0]=s[0]*e,t[1]=s[1]*e,t}function r(t,s){return Math.hypot(s[0]-t[0],s[1]-t[1])}function o(t,s){const i=s[0]-t[0],h=s[1]-t[1];return i*i+h*h}function u(t,s,i=1){return t[0]=s[1],t[1]=s[0],i?t[1]=-t[1]:t[0]=-t[0],n(t,t)}function c(t){return[(16711680&t)>>16,(65280&t)>>8,255&t]}function a(t=Math.random){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(s=>{let i=16*t()|0;return("x"==s?i:3&i|8).toString(16)}))}function l(t,s){return`rgba(${t[0]}, ${t[1]}, ${t[2]}, ${s})`}function f(t,s){const[i,h]=t.position,[e,n]=s.position,[r,o]=s.size;let u=i,c=h;e>i?u=e:i>e+r&&(u=e+r),n>h?c=n:h>n+o&&(c=n+o);let a=new A([i,h],[u,c]);return t.t*t.t>=a.i}function d(t,s){const n=h([0,0],t.position,s.position),r=[1,0,0,1,0,0];return((t,s)=>{let i=Math.sin(s),h=Math.cos(s);t[0]=h,t[1]=i,t[2]=-i,t[3]=h,t[4]=0,t[5]=0})(r,-s.orientation),((t,s,i)=>{let h=s[0],e=s[1];t[0]=i[0]*h+i[2]*e+i[4],t[1]=i[1]*h+i[3]*e+i[5]})(n,n,r),f(new P(i([0,0],n,s.h),t.t),new B([0,0],e([0,0],s.h,2)))}function x(t){const s=t.o;let r=[0,0];const o=t.u(s),c=i([0,0],o,e(r,n(r,h(r,o,t.position)),S.l)),a=u([0,0],h(r,o,c));e(a,a,S.p);const l=i([0,0],c,a),f=new A(o,l);return new I(f.m,[S.l/2,S.p/2],s)}function p(t,i){if(t===i)return 0;if(((t,s)=>{const i=t.position[0]-s.position[0],h=t.position[1]-s.position[1],e=t.t+s.t;return e*e>i*i+h*h})(t,i)){let n=[0,0];s(t.position,t.g);const o=[(t.position[0]*i.t+i.position[1]*t.t)/(t.t+i.t),(t.position[1]*i.t+i.position[1]*t.t)/(t.t+i.t)];let u=[0,0];e(u,h(n,i.position,o),1/r(o,i.position));let c=2*(t.M[0]*u[0]+t.M[1]*u[1])/(t.v+i.v);return t.M=e(t.M,[t.M[0]-c*t.v*u[0]-c*i.v*u[0],t.M[1]-c*t.v*u[1]-c*i.v*u[1]],i._),1}return 0}function w(t,s){const i=o(s.position,t.position);return 0!==i?S.S*(s.v/i):0}function m(t,s){let i,h,e;for(h of t){let t=-1/0;for(e of s.k){if(h===e)continue;let s=w(h,e);t>s||(t=s,i=e)}h.P=i}}function g(t,r){if(!t.P||!t.acceleration)return;const o=[0,0];s(t.g,t.position),e(t.acceleration,n(o,h(o,t.P.position,t.position)),w(t,t.P)),t.M||(t.M=[0,0]),i(t.M,t.M,e(o,t.acceleration,r)),i(t.position,t.position,e(o,t.M,r))}function M(t,s){let i=t.clone();return e(i.$.position,i.$.position,s),e(i.$.acceleration,i.$.acceleration,s),e(i.$.M,i.$.M,s),i}function v(t,s,i,h=1){t.fillStyle=l(i,h),t.beginPath(),t.arc(s.position[0],s.position[1],s.t,0,6.283185307179586),t.closePath(),t.fill()}function _(t,s,i){t.lineWidth=1,t.lineCap="round",t.strokeStyle=l(i,1),t.beginPath(),t.moveTo(s.start[0],s.start[1]),t.lineTo(s.end[0],s.end[1]),t.closePath(),t.stroke()}function b(t,s,r){_(t,s,r);let o=[0,0];s.A(-S.p);let a=i([0,0],s.m,e(o,u([0,0],n(o,h(o,s.start,s.end))),S.p));t.fillStyle=l(c(15913899),1),t.beginPath(),t.moveTo(s.start[0],s.start[1]),t.lineTo(a[0],a[1]),t.lineTo(s.end[0],s.end[1]),t.closePath(),t.fill()}function y(t,s,i,h,{B:e,background:n,text:r}){t.font="normal 12px sans-serif",t.fillStyle=l(n,1),t.fillRect(h[0],h[1],100,20),t.fillStyle=l(e,1),t.fillRect(h[0],h[1],s,20),t.fillStyle=l(r,1),t.strokeStyle="black",t.lineWidth=2,t.strokeText(i,h[0]+108,h[1]+14),t.fillText(i,h[0]+108,h[1]+14)}class z extends class{constructor(){this.C=[],this.F=[]}I(t){return this.C.push(t),{L:()=>this.q(t)}}once(t){this.F.push(t)}q(t){var s=this.C.indexOf(t);s>-1&&this.C.splice(s,1)}G(t){if(this.C.forEach((s=>s(t))),this.F.length>0){const s=this.F;this.F=[],s.forEach((s=>s(t)))}}T(t){return this.I((s=>t.G(s)))}}{constructor(t){super(),this.O=0,this.U=t,window.addEventListener("pointerdown",this.V.bind(this)),window.addEventListener("pointermove",this.V.bind(this)),window.addEventListener("pointerup",this.V.bind(this)),window.addEventListener("blur",this.W.bind(this))}W(){this.O=0}V(t){this.position=this.j(this.U,[t.clientX,t.clientY]),this.O=!!t.buttons,this.G(this.O)}j(t,s){let i=t.getBoundingClientRect();return[t.width/i.width*(s[0]-i.left),t.height/i.height*(s[1]-i.top)]}D(){return this.O}}const S={H:[1334,750],J:164,K:"g",seed:"IPTS",N:1e6,S:1,R:2e3,X:0,Y:1400,Z:1,l:45,p:18,tt:50,st:125,it:1e3},k=Math.pow(2,-1022);class P{constructor(t,s){this.position=t,this.t=s}u(t){return[this.position[0]+this.t*Math.cos(t),this.position[1]+this.t*Math.sin(t)]}}class $ extends P{constructor(t,i,h=0,e,n,r=.8){super(t,i),this.g=[0,0],s(this.g,this.position),this.v=h,this.M=e,this.acceleration=n,this._=r}ht(t){const s=t[0]-this.position[0],i=t[1]-this.position[1];return this.t*this.t>s*s+i*i}clone(){return new $(s([0,0],this.position),this.t,this.v,s([0,0],this.M),s([0,0],this.acceleration),this._)}}class A{constructor(t,s){this.start=t,this.end=s}A(t){let s=this.end[0]-this.start[0],i=this.end[1]-this.start[1],h=Math.sqrt(s*s+i*i);return h>0&&(s/=h,i/=h),s*=h+t,i*=h+t,this.start[0]=this.start[0]+s,this.start[1]=this.start[1]+i,this}get m(){return[(this.start[0]+this.end[0])/2,(this.start[1]+this.end[1])/2]}get length(){return r(this.start,this.end)}get i(){return o(this.start,this.end)}}class B{constructor(t,s){this.position=t,this.size=s}static et(t,s){return new B(t,h([0,0],s,t))}get min(){const t=this.position,s=i([0,0],this.position,this.size);return[Math.min(t[0],s[0]),Math.min(t[1],s[1])]}get max(){const t=this.position,s=i([0,0],this.position,this.size);return[Math.max(t[0],s[0]),Math.max(t[1],s[1])]}}class C extends ${constructor(t,s){super([10,10],5,S.X,[0,0],[0,0]),this.color=c(13016997),this.nt=0,this.rt=0,this.ot=0,this.ut=0,this.ct=2,this.at=2*S.J,this.lt=2*S.J,this.ft=0,this.dt=[],this.xt=0,this.wt=0,this.gt=0,this.id=s??a(),this.Mt=t}vt(){this._t()}step(){if(this.bt&&this.gt++,this.gt>30&&(this.gt=0,this.rt=0,this.yt=s([0,0],this.position)),this.ft?(this.lt>0||(this.ft=0,S.Z=1),this.lt--):(S.Z=1,this.at>this.lt&&(this.lt+=.1)),f(this,new B([0,0],S.H)))this.xt=0,this.wt=0;else{this.wt=1;const s=n([0,0],h([0,0],this.position,this.P.position));(t=n([0,0],this.M))[0]*(i=s)[0]+t[1]*i[1]>0?this.xt++:this.xt=0}var t,i;this.xt>S.it&&(this.xt=0,s(this.position,this.yt),this.M=[0,0])}zt(){this.ot+=this.ut,this.ut=0}get St(){return~~(this.lt/this.at*100)}get bt(){return!(!t((s=this.position)[0],(i=this.g)[0],h)||!t(s[1],i[1],h));var s,i,h}get kt(){return this.ct>this.rt}Pt(){this.dt.push(s([0,0],this.position)),this.dt.length>S.tt&&this.dt.shift()}_t(){if(!this.kt)return void(S.Z=1);const t=this.Mt.D();var s,i,e;!this.nt&&t?(this.$t=[0,0],this.At=this.Mt.position,1>this.rt||(S.Z=.1,this.ft=1)):this.nt&&!t?this.Bt():this.Mt.position&&this.At&&(i=this.$t,e=n(this.$t,h(this.$t,this.Mt.position,this.At)),i[0]=-e[0],i[1]=-e[1],this.Ct=(s=r(this.At,this.Mt.position),Math.max(0,Math.min(100,s))/100)),this.nt=t}Bt(){e(this.M,this.$t,S.Y*this.Ct*(this.ft?.5:1)),this.At=void 0,this.$t=void 0,this.Ct=void 0,this.rt++,this.ut++,this.ft=0}clone(){let t=new C(this.Mt);return t.id=this.id,t.P=this.P?.clone(),t.position=s([0,0],this.position),t.g=s([0,0],this.g),t.M=s([0,0],this.M),t.acceleration=s([0,0],this.acceleration),t.nt=this.nt,t.$t=s([0,0],this.$t),t.Ct=this.Ct,t.ot=this.ot,t.ut=this.ut,t.rt=this.rt,t.At=s([0,0],this.At),t.ct=this.ct,t.lt=this.lt,t.dt=this.dt.map((t=>s([0,0],t))),t.wt=this.wt,t.xt=this.xt,t}}class F extends ${constructor(t,s,i,h,e,n,r,o){super(t,s,i*S.N,e,n,r),this.color=c(9137564),this.id=h??a(),this.o=o}get Ft(){return S.S*this.v}It(t){return Math.sqrt(this.Ft/t)}clone(){let t=new F(s([0,0],this.position),this.t,this.v,this.id,this.M,this.acceleration,this._,this.o);return t.P=this.P,t}}class I{constructor(t,s,i){this.position=t??[0,0],this.h=s??[1,1],this.orientation=i??0}}class L{constructor({size:t,$:s,k:i}){this.Lt=[],this.size=t,this.$=s,this.k=i}static qt(t,i){let h=new C(t);return s(h.position,i.Gt),new L({size:i.size,$:h,k:i.Tt.map((t=>new F(s([0,0],t.position),t.t,t.v,t.id,s([0,0],t.M),s([0,0],t.acceleration),t._,t.o)))})}step(t){this.$.step(),((t,s)=>{m([s.$,...s.k],s);let i=[s.$,...s.k];for(let s of i)g(s,t*S.Z)})(t,this);const s=(t=>{let s=0,i=0,h=[t.$,...t.k];for(let t of h)for(let i of h)s=p(t,i);let e=t.k.filter((t=>void 0!==t.o));for(let h of e)s=i=d(n=t.$,x(h))?(n.M=[0,0],1):0;var n;return{Et:s,Ot:i}})(this);return this.$.Pt(),this.Lt=((t,s)=>{if(!t.$.$t)return[];let i=t.$.clone();i.Bt();let h=[];for(let e=0;S.st>e;e++)m([i],t),g(i,s),p(i,i.P),h.push([i.position[0],i.position[1]]);return h})(this,t),s}clone(){let t=new L({size:s([0,0],this.size),$:this.$.clone(),k:this.k.map((t=>t.clone()))});return t.Lt=[...this.Lt.map((t=>s([0,0],t)))],t}}class q{constructor(t,s){this.Ut=0,this.U=t,this.Vt=document.createElement("canvas").getContext("2d"),this.Wt(),this.jt=this.U.getContext("2d"),this.Dt=s,this.Ht=((t,s,i,h)=>{const e=document.createElement("canvas");e.id="bg",e.width=t,e.height=s;const n=e.getContext("2d"),r=[];for(;h>0;h--)r.push([i()*t,i()*s,1.2*i()]);n.fillStyle=l(c(2565956),1),n.fillRect(0,0,t,s);for(let t of r??[])n.beginPath(),n.arc(t[0],t[1],t[2],0,360),n.fillStyle=l(c(16512495),.8),n.fill();return e})(S.H[0],S.H[1],this.Dt,S.R)}set Jt(t){this.Ut=t}Wt(){this.U.width=S.H[0],this.U.height=S.H[1],this.Vt.canvas.width=S.H[0],this.Vt.canvas.height=S.H[1]}Kt(t,s){let r=[0,0];for(let o of s.k??[])if(v(t,o,o.color),void 0!==o.o){const s=o.u(o.o),u=i([0,0],s,e(r,n(r,h(r,s,o.position)),S.l));b(t,new A(s,u),c(13016997))}}Nt(t,s){for(let i=s.$.dt.length-1;i>0;i--){const h=i/(s.$.dt.length-1);v(t,new P(s.$.dt[i],s.$.t),s.$.color,h)}if(s.$.kt&&s.$.$t&&s.$.Ct){let h=[0,0];const n=i(h,s.$.position,e(h,s.$.$t,100*s.$.Ct));((t,s,i)=>{_(t,s,i)})(t,new A(s.$.position,n),c(13016997)),this.Qt(t,s)}}Qt(t,s){for(let i of s.Lt)v(t,new P(i,1),c(16512495))}Rt(t,s){const i=c(16512495),h={B:c(15913899),background:c(9137564),text:i};t.font="normal 32px sans-serif",t.fillStyle=l(i,1);const e=""+s.$.ot;if(t.strokeStyle="black",t.lineWidth=4,t.strokeText(e,8,32),t.fillText(e,8,32),s.$.ut>0){const i=t.measureText(e),h=`${s.$.ut>0?"+":""}${s.$.ut}`;t.strokeText(h,i.width+24,32),t.fillText(h,i.width+24,32)}let n=S.H[1]-28;y(t,s.$.St,"slo-mo",[8,n],h),n-=26,y(t,100-s.$.rt/s.$.ct*100,"launches",[8,n],h),n-=26;const r=~~(100-s.$.xt/S.it*100);100>r&&y(t,r,"respawn",[8,n],h)}Xt(t){const s=this.Vt;s.drawImage(this.Ht,0,0),this.Kt(s,t),this.Nt(s,t),this.Rt(s,t),this.jt.drawImage(this.Vt.canvas,0,0)}}class G{constructor(){this.Yt=0,document.monetization&&("started"!==document.monetization.state&&"stopped"!==document.monetization.state?document.monetization.addEventListener("monetizationstart",this.Zt.bind(this)):(this.Yt="started"===document.monetization.state,this.Yt&&this.ts()))}Zt(){this.Yt=1,this.ts()}ts(){}}var T={size:[1920,1080],Gt:[155,246],Tt:[{position:[200,320],t:75,v:75},{position:[600,520],t:75,v:75},{position:[950,120],t:100,v:100,o:0}]};(new class{constructor(){this.Jt=60,this.isActive=0,this.ss=0,this.hs=0,this.es=0,this.ns=0,this.rs=document.getElementById(S.K),this.os=new z(this.rs),this.os.once((()=>this.us=new AudioContext).bind(this)),this.cs=new G,this.Dt=(t=>{for(var s=0,i=2166136261;t.length>s;s++)i=Math.imul(i^t.charCodeAt(s),16777619);i+=i<<13,i^=i>>>7,i+=i<<3,i^=i>>>17;let h=(i+=i<<5)>>>0,e=()=>(2**31-1&(h=Math.imul(48271,h)))/2**31;return e(),e})(S.seed),this.ls=new q(this.rs,this.Dt),window.addEventListener("focus",this.start.bind(this)),window.addEventListener("blur",this.stop.bind(this)),this.fs(T)}fs(t){this.currentState=L.qt(this.os,t),this.ds=this.currentState}start(){void 0===this.xs&&(this.xs=requestAnimationFrame(this.ps.bind(this)),this.isActive=1)}stop(){this.xs&&cancelAnimationFrame(this.xs),this.xs=void 0,this.isActive=0}ws(t){let s=.001*t;return this.ss=s-this.es,this.es=s,this.hs+=this.ss,this.Jt=.9*this.Jt+1/this.ss*(1-.9),this.ls.Jt=~~this.Jt,1>this.hs||(this.hs=0),s}ps(t){if(this.xs=requestAnimationFrame(this.ps.bind(this)),t=this.ws(t),1>=this.ss){for(this.currentState.$.vt(),this.ns+=this.ss,this.ns+=this.ss;this.ns>=1/S.J;)this.ds=this.currentState.clone(),this.currentState.step(1/S.J).Ot&&(this.currentState.$.zt(),this.currentState.$.position=s([0,0],T.Gt)),this.ns-=1/S.J,t+=this.ss;this.ls.Xt((h=this.ds,((t,s)=>{let h=s.clone();return i(h.$.position,t.$.position,s.$.position),i(h.$.acceleration,t.$.acceleration,s.$.acceleration),i(h.$.M,t.$.M,s.$.M),h})(M(this.currentState,e=this.ns/this.ss),M(h,1-e))))}var h,e}}).start()}();
//# sourceMappingURL=bundle.js.map
