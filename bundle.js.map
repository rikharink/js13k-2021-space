{"version":3,"file":"bundle.js","sources":["../src/math/vector2.ts","../src/physics/physics.ts","../src/game/scene.ts","../src/math/color.ts","../src/util/util.ts","../src/canvas/util.ts","../src/math/math.ts","../src/managers/pointer-manager.ts","../src/settings.ts","../src/canvas/canvas-renderer.ts","../src/game/circle.ts","../src/physics/collision/circle-collider.ts","../src/game/celestial-body.ts","../src/palette.ts","../src/game/player.ts","../src/game.ts","../src/math/random.ts","../src/game/background.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["copy","out","a","add","b","subtract","scale","normalize","x","y","len","Math","sqrt","getGravitationalForce","ds","distance_squared","position","Settings","mass","mul","scene","n","s","clone","player","acceleration","velocity","updateAttraction","splitRgb","rgb","rgbaString","color","alpha","drawCircle","ctx","circle","fillStyle","beginPath","arc","radius","closePath","fill","PointerManager","constructor","canvas","this","_canvas","window","addEventListener","_handlePointerEvent","bind","_clearState","g","_state","m","ev","scalePosition","clientX","clientY","buttons","v","pos","rect","getBoundingClientRect","width","left","height","top","_","Scene","i","P","celestialBodies","map","cb","attraction","o","mostAttractive","maxF","Number","planet","f","A","t","dt","tick","tmp","semiImplicitEuler","applyPhysics","CanvasRenderer","_ctx","getContext","M","fps","_fps","S","body","$","k","start","end","lineWidth","lineCap","strokeStyle","moveTo","lineTo","stroke","drawLine","palette","fillRect","fillText","q","clearRect","_renderCelestialBodies","_renderPlayer","_renderDebug","Circle","center","T","other","dx","dy","r","hasCollision","C","point","CelestialBody","id","super","random","replace","c","toString","uuidv4","Player","pm","_pm","_t","_dt","handleInput","G","active","hasInput","isInputting","_startPos","undefined","_launchVector","_rng","h","str","imul","charCodeAt","seed","rand","seedRand","cnvs","document","getElementById","appendChild","rng","stars","createElement","classList","backgroundStars","push","star","renderBackground","_pointerManager","_renderer","_player","_currentState","stop","_raf","requestAnimationFrame","_loop","cancelAnimationFrame","st","_then","_adt","it","tt","_updateTimes","_updateFPS","_accumulator","_previousState","render","current","previous","vadd"],"mappings":"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"}