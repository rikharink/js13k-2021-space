{"version":3,"file":"bundle.js","sources":["../src/math/math.ts","../src/math/vector2.ts","../src/math/color.ts","../src/util/util.ts","../src/physics/physics.ts","../src/physics/collision/collision-checks.ts","../src/math/matrix2d.ts","../src/game/state.ts","../src/canvas/util.ts","../src/managers/pointer-manager.ts","../src/settings.ts","../src/geometry/circle.ts","../src/game/physics-circle.ts","../src/game/player.ts","../src/geometry/oriented-rectangle.ts","../src/game/celestial-body.ts","../src/palette.ts","../src/geometry/line.ts","../src/geometry/rectangle.ts","../src/physics/collision-handler.ts","../src/canvas/canvas-renderer.ts","../src/game/background.ts","../src/managers/webmonetization-manager.ts","../src/game.ts","../src/math/random.ts","../src/debug/canvas-recorder.ts","../src/index.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["nearlyEqual","a","b","epsilon","diff","Math","abs","MIN_NORMAL","copy","out","add","subtract","scale","normalize","x","y","len","sqrt","distance","hypot","distance_squared","splitRgb","rgb","uuidv4","random","replace","c","r","toString","rgbaString","color","alpha","getGravitationalForce","ds","position","Settings","G","mass","semiImplicitEuler","dt","attraction","acceleration","tmp","previousPosition","velocity","hasCircleCircleCollision","dx","dy","radius","hasCircleOrientedRectangleCollision","circle","rect","rotation","rad","s","sin","cos","from_rotation","orientation","m","transform_point","min","max","closestPoint","line","Line","length_squared","hasCircleRectangleCollision","Circle","halfExtends","Rectangle","mul","state","n","clone","player","drawCircle","ctx","fillStyle","beginPath","arc","closePath","fill","drawLine","start","end","lineWidth","lineCap","strokeStyle","moveTo","lineTo","stroke","drawFlag","lengthen","flagLength","tip","midpoint","clockwise","perpendicular","PointerManager","constructor","canvas","this","_canvas","window","addEventListener","_handlePointerEvent","bind","_clearState","F","_state","B","ev","scalePosition","clientX","clientY","buttons","I","pos","getBoundingClientRect","width","left","height","top","L","T","R","$","seed","k","t","A","q","C","D","M","pow","O","angle","PhysicsCircle","bounceDampening","super","W","point","Player","pm","id","playerMass","palette","tps","_pm","tt","handleInput","step","stationary","_sc","launches","hasSlowmotion","sp","speedScale","maxSp","ht","it","ne","et","maxLaunches","st","canLaunch","active","hasInput","isInputting","launchVector","_startPos","launchForceMultiplier","launchPower","undefined","totalLaunches","OrientedRectangle","CelestialBody","goal","planetWeightScaling","at","ut","getPoint","flagmastLength","lt","mu","cb","v","length","S","origin","size","p1","p2","State","g","ft","celestialBodies","wt","level","spawn","bodies","map","mostAttractive","c1","c2","checks","maxF","Number","f","updateAttractions","objects","o","applyPhysics","check","o1","o2","pc","p","goalBodies","filter","gb","goalRect","handleCollisions","CanvasRenderer","rng","_bufferContext","document","createElement","getContext","_setSize","_ctx","_rng","_background","stars","backgroundStars","push","fillRect","star","renderBackground","resolution","nrOfBackgroundStars","_t","fps","_fps","bt","Bt","body","zt","drawArrow","Ft","fillText","spp","It","drawImage","_renderCelestialBodies","_renderPlayer","_renderDebug","WebmonetizationManger","monetization","_monetizationStarted","isMonetized","Tt","Game","cnvs","getElementById","canvasId","_pointerManager","_monetizationManager","str","i","h","imul","charCodeAt","rand","seedRand","_renderer","stop","loadLevel","level1","Gt","currentState","fromLevel","_previousState","_raf","requestAnimationFrame","_loop","isActive","cancelAnimationFrame","jt","_dt","_then","_adt","Ht","Wt","_updateTimes","_updateFPS","tick","_accumulator","render","previous","vadd","CanvasRecorder","video_bits_per_sec","stream","captureStream","video","style","display","Qt","types","MediaRecorder","isTypeSupported","supportedType","options","mimeType","videoBitsPerSecond","recordedBlobs","mediaRecorder","e","onstop","handleStop","ondataavailable","handleDataAvailable","Zt","event","data","Yt","superBuffer","Blob","type","src","URL","createObjectURL","ts","controls","download","file_name","name","blob","url","href","appendChild","click","setTimeout","removeChild","revokeObjectURL","w","recorder","key","recording","vcr","stopRecording","startRecording","forEach"],"mappings":"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"}